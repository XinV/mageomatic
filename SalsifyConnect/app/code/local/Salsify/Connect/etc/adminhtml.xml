<?xml version="1.0" encoding="UTF-8"?>
<config>

  <!--
  Define the Salsify Connect menu in the admin HTML.
  -->
  <menu>
    <salsify_connect_menu module="salsify_connect">
      <title>Salsify Connect</title>
      <sort_order>6969</sort_order>         
      <children>
        
        <manage_imports module="salsify_connect">
          <title>Manage Imports</title>
          <sort_order>0</sort_order>
          <action>salsify/adminhtml_index/index</action>
        </manage_imports>

        <configuration module="salsify_connect">
          <title>Salsify Account Details</title>
          <sort_order>1</sort_order>
          <action>salsify/adminhtml_index/configuration</action>
        </configuration>

        <!-- TODO remove all these guys -->
        <config module="salsify_connect">
          <title>Create Configuration</title>
          <sort_order>50</sort_order>
          <action>salsify/adminhtml_index/config</action>
        </config>

        <import module="salsify_connect">
          <title>Start Export</title>
          <sort_order>51</sort_order>
          <action>salsify/adminhtml_index/export</action>
        </import>

        <chimport module="salsify_connect">
          <title>Chimport</title>
          <sort_order>52</sort_order>
          <action>salsify/adminhtml_index/chimport</action>
        </chimport>

        <test module="salsify_connect">
          <title>TEST ACTION</title>
          <sort_order>69</sort_order>
          <action>salsify/adminhtml_index/test</action>
        </test>

        <cleaner module="salsify_connect">
          <title>DELETE SALSIFY DATA</title>
          <sort_order>100</sort_order>
          <action>salsify/adminhtml_index/cleaner</action>
        </cleaner>

      </children>
    </salsify_connect_menu>
  </menu>

  <!--
  To be a well-behaved module you want to let the Magento administrator make
  certain actions in this module off limits to most users of the system. Since
  Salsify imports and exports affect an entire system this seemed important to
  enable admins to lock down.
  -->
  <acl>
    <resources>
      <admin>
        <children>
          <catalog>
            <children>
              <!-- FIXME add the rest of the ACLs here -->
              <manage_imports>
                <!-- Note the title is not redundant, enve though it looks the same as in the menu listings above. This is how the ACL text will be displayed on System > Permissions > Roles > Role > Role Resources -->
                <title>Manage Salsify Imports</title>
              </manage_imports>
            </children>
          </catalog>
        </children>
      </admin>
    </resources>
  </acl>

</config>