<?xml version="1.0" encoding="UTF-8"?>
<config>

  <!-- TODO need to add dependencies for ApiImport -->

  <modules>
    <Salsify_Connect>
      <version>0.0.1</version>
    </Salsify_Connect>
  </modules>


  <global>
    <helpers>
      <salsify_connect>
          <class>Salsify_Connect_Helper</class>
      </salsify_connect>
    </helpers>

    <models>
      <salsify_connect>
        <class>Salsify_Connect_Model</class>
        <resourceModel>salsify_connect_resource</resourceModel>
      </salsify_connect>
      <salsify_connect_resource>
        <class>Salsify_Connect_Model_Resource</class>
        <entities>
          <configuration>
            <table>salsify_connect_configuration</table>
          </configuration>
          <import_run>
            <table>salsify_connect_import_run</table>
          </import_run>
          <attribute_mapping>
            <table>salsify_connect_attribute_mapping</table>
          </attribute_mapping>
        </entities>
      </salsify_connect_resource>
    </models>

    <resources>
      <salsify_connect_setup>
        <setup>
          <module>Salsify_Connect</module>
          <class>Salsify_Connect_Model_Resource_Setup</class>
        </setup>
      </salsify_connect_setup>
    </resources>

    <!-- TODO finish the eventing system -->
    <events>
      <catalog_product_save_after>
        <observers>
          <salsify_connect>
            <class>salsify_connect/observer</class>
            <method>logUpdate</method>
            <type>singleton</type>
          </salsify_connect>
        </observers>
      </catalog_product_save_after>
    </events>

  </global>


  <admin>
    <routers>
      <salsifyadmin>
        <use>admin</use>
        <args>
          <module>Salsify_Connect</module>
          <frontName>salsify</frontName>
        </args>
      </salsifyadmin>
    </routers>

    <blocks>
      <salsify_connect>
        <class>Salsify_Connect_Block</class>
      </salsify_connect>
    </blocks>
  </admin>

</config>
